<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Uniform distribution If you roll a 20-sided die (commonly called a d20), there&rsquo;s an equal chance of rolling any number between 1 and 20. Over the course of infinite rolls, you&rsquo;ll roll about the same number of 1s, 2s, 3s, and so on. That&rsquo;s called a &ldquo;uniform distribution.&rdquo; This d20, popularized by Dungeons and Dragons, is the best and worst thing to happen to tabletop gaming: the best because it creates moments of triumph and despair in otherwise ho-hum games, and the worst because it creates periods of boredom in otherwise exciting games.'>

<meta property='og:title' content='Random distributions in programming and video games • Minimum Viable Blog'>
<meta property='og:description' content='Uniform distribution If you roll a 20-sided die (commonly called a d20), there&rsquo;s an equal chance of rolling any number between 1 and 20. Over the course of infinite rolls, you&rsquo;ll roll about the same number of 1s, 2s, 3s, and so on. That&rsquo;s called a &ldquo;uniform distribution.&rdquo; This d20, popularized by Dungeons and Dragons, is the best and worst thing to happen to tabletop gaming: the best because it creates moments of triumph and despair in otherwise ho-hum games, and the worst because it creates periods of boredom in otherwise exciting games.'>
<meta property='og:url' content='http://isaaclyman.com/blog/posts/random-distributions/'>
<meta property='og:site_name' content='Minimum Viable Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:tag' content='dart'><meta property='article:published_time' content='2026-01-14T15:47:55-07:00'/><meta property='article:modified_time' content='2026-01-14T15:47:55-07:00'/>

<meta name="generator" content="Hugo 0.124.1">

  <title>Random distributions in programming and video games • Minimum Viable Blog</title>
  <link rel='canonical' href='http://isaaclyman.com/blog/posts/random-distributions/'>
  
  <link rel='icon' href='/blog/favicon.png'>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Ubuntu:400,400i,700&subset=latin'>
<link rel='stylesheet' href='/blog/css/main.d02777fd.css'>

  <link rel='stylesheet' href='/blog/css/custom.css'>

  <link rel='stylesheet' href='/blog/css/print.css'>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-QX2T3WXRC9"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-QX2T3WXRC9', { 'anonymize_ip': false });
}
</script>


</head>


<body class='page'>
  <div class='site'>
    <header id='header' class='header-container'>
      <div class='site-header'>
        <nav id='navmenu' aria-label='Main Menu'>
  <ul class='main-menu'>
    
    <li>
      <a href='/blog/posts/' 
        
      >{ Archive }</a>
    </li>
    
    <li>
      <a href='/blog/posts/introduction' 
        
      >{ Contact }</a>
    </li>
    
    <li>
      <a href='/blog/index.xml' 
        
      >{ RSS }</a>
    </li>
    
  </ul>
</nav>

        <div class='site-info'>
          
          <p class='site-title title'>Minimum Viable Blog</p>
          
          <p class='site-description'>Software construction, opinion, and self</p>
        </div>
      </div>
    </header>


<main class='main'>
  <article lang='en' class='entry'>
    <header class='entry-header'>
  <div class='entry-info'>
    <p class="entry-genre">
      Technology
    </p>
    <h1 class='entry-title title'>Random distributions in programming and video games</h1>
    
  </div>
  
<div class='meta'>
  <span class='posted-on'>
    <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>

    <span class='screen-reader'>Posted on </span>
    <time class='date' datetime='2026-01-14T15:47:55-07:00'>Jan 14, 2026</time>
  </span>
  
  
  <span class='reading-time'>
    <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/> 
  
</svg>

    8 mins read
  </span>
  
</div>


</header>

    <div class='entry-content'>
  <h2 id="uniform-distribution">Uniform distribution</h2>
<p>If you roll a 20-sided die (commonly called a d20), there&rsquo;s an equal chance of rolling any number between 1 and 20. Over the course of infinite rolls, you&rsquo;ll roll about the same number of 1s, 2s, 3s, and so on. That&rsquo;s called a &ldquo;uniform distribution.&rdquo; This d20, popularized by Dungeons and Dragons, is the best and worst thing to happen to tabletop gaming: the best because it creates moments of triumph and despair in otherwise ho-hum games, and the worst because it creates periods of boredom in otherwise exciting games.</p>
<p>I&rsquo;ve heard the d20 described as &ldquo;swingy.&rdquo; That&rsquo;s a good way to think about it: you&rsquo;re equally as likely to roll a 20 (extraordinary success) as a 1 (devastating failure) or a 9 (mediocre result). Your &ldquo;luck&rdquo; is constantly bouncing around. In fact, luck is barely relevant. If you roll three 20s in a row you might feel unstoppable, but three 20s is no less likely than three 10s. You could go a whole session without seeing a 20, or it could be the only thing you roll. No wonder tabletop gamers develop so many superstitions.</p>
<p>A d20 is easy to simulate in basically every programming language:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">final</span> rnd <span style="color:#ff79c6">=</span> Random();
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">final</span> d20 <span style="color:#ff79c6">=</span> rnd.nextInt(<span style="color:#bd93f9">20</span>) <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>;
</span></span></code></pre></div><p>If you graph the distribution, it looks like this:</p>
<figure><img src="/blog/img/dist_d20.png"
    alt="A cartesian graph in the I quadrant with a straight line running horizontally rightward from halfway up the Y axis, and shaded green underneath it down to the X axis. The X axis is labeled with a d20 on each end, with the 1 face showing on the left side and the 20 face showing on the right. Several arrows are pointing to the horizontal line from above, with a handwritten label that reads &#39;Every result equally likely on every roll&#39;">
</figure>

<p>You should be booing and hissing right now, but I&rsquo;ll get to that.</p>
<p>Video games took this mechanic and ran with it. Randomness, or RNG, is very hot right now, partially (I suspect) because it&rsquo;s so easy to code. <a href="https://steamdb.info/stats/releases/?tagid=1716">Upwards of 2,000</a> roguelike games were released on Steam last year—&ldquo;roguelike&rdquo; meaning you&rsquo;re intended to play the game repeatedly, and certain elements, like enemies, powerups, and level layouts, are randomly chosen on each playthrough. Roguelike junkies like me will trudge through 20 disappointing rounds to feel the rush of a superb one, one where you get all the best powerups and your foes are helpless against you.</p>
<p>It&rsquo;s okay for the dice to be swingy when the stakes are low: in a roguelike, you rarely lose more than 20 minutes because of a bad roll. You can always just start again. But when the stakes are high, it becomes a problem.</p>
<h2 id="xcom-2-and-percent-chance-to-hit">XCOM 2 and percent chance to hit</h2>
<p>It&rsquo;s time to make myself unpopular.</p>
<p><a href="https://en.wikipedia.org/wiki/XCOM_2">XCOM 2</a> is a bad video game. This is despite the fact that everything about it is awesome: the concept, the art, the story, the characters, everything. It&rsquo;s a bad game because when you set up your soldiers to shoot at the aliens, it gives you a certain chance of hitting them, expressed as a percent. If your luck is bad, it doesn&rsquo;t matter if your percentages are all 70% and up: you&rsquo;ll miss all your shots, get slaughtered, and lose the level. And when your soldiers die in XCOM, they&rsquo;re permanently dead. A few minutes of bad luck can spoil hours of careful gameplay.</p>
<p>Someone&rsquo;s about to send me a strongly-worded email about how I&rsquo;m &ldquo;not playing the game right.&rdquo; Let me save you the trouble: I am playing it right, and it&rsquo;s a bad game.</p>
<p>Don&rsquo;t get me wrong, I&rsquo;m not opposed to random elements in games. They can add a lot of depth and replayability for relatively little effort. What I <em>am</em> opposed to is uniform random distributions in games where they don&rsquo;t make sense.</p>
<p>What other choice is there? Well, with some math, you can get any distribution you want.</p>
<h2 id="triangular-distribution">Triangular distribution</h2>
<p>With a triangular distribution, you&rsquo;re most likely to get values in the middle of the range (like 10 on a d20), and progressively less likely to get values toward the top and bottom of the range (like 1 and 20). It looks like this:</p>
<figure><img src="/blog/img/dist_triangle_d20.png"
    alt="A cartesian graph in the I quadrant. The X axis is labeled with d20 dice from left to right on the 1 face, 10 face, and 20 face. An isosceles triangle is drawn in green with bottom corners on the extremes of the X axis and top corner centered above the middle, with a dotted line drawn down to the 10-faced die, dividing the triangle in half. An arrow points to the top corner with the label &#39;Most likely&#39;, and an arrow points to each bottom corner with the label &#39;Least likely.">
</figure>

<p>A triangular distribution is what you get if you roll two d10 dice instead of a single d20. The highest possible result is still 20, but you&rsquo;re <em>ten times</em> as likely to roll an 11, because there&rsquo;s only one way for the dice to add up to 20 (10 + 10) and ten ways for them to add up to 11 (10 + 1, 9 + 2, etc.). This feels more natural. Just like in real life, it&rsquo;s rare for things to go as poorly as possible or as well as possible. Most of the time they&rsquo;re closer to mediocre. A triangular distribution still &ldquo;feels&rdquo; random, but it also feels fair.</p>
<p>For my money, this should be the default in games. Middling results should be the norm. Spectacular results, for better or worse, should be rare. You should be able to strategize based on the <a href="https://en.wikipedia.org/wiki/Mediocrity_principle">mediocrity principle</a>.</p>
<p>This is a little more complicated to code, but it introduces a technique you can use for any distribution you like: rejection sampling. In short, you plot your desired distribution on a two-dimensional graph, then generate two (uniform) random numbers, <em>x</em> and <em>y</em>, as coordinates on the same graph. If they&rsquo;re outside the distribution, you reject them and try again. If they&rsquo;re inside it, you keep <em>x</em>.</p>
<p>Let&rsquo;s say you want a random decimal number between 0 and 1, but you want the value <code>0.5</code> to be twice as likely as either <code>0</code> or <code>1</code>, with linear probability in between. You could plot the distribution curve like this:</p>
<figure><img src="/blog/img/dist_triangle_double.png"
    alt="A cartesian graph in quadrant I. The X axis goes from 0 to 1, with a mark at 0.5, as does the Y axis. A house shape is drawn so that its peak is at x=0.5 and y=1, and its eaves are at y=0.5, x=0 and 1, and shaded green from the roof down to the X axis.">
</figure>

<p>Think of this as two intersecting lines. The first one has a slope of 1, so its formula is <code>y = 1x + 0.5</code> or simply <code>y = x + 0.5</code>. The second has a slope of -1, so its formula is <code>y = -x + 1.5</code>. Now you can code your RNG:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">final</span> rnd <span style="color:#ff79c6">=</span> Random();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd">double</span> nextDoubleTriangular() {
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd">double</span> x, y;
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">do</span> {
</span></span><span style="display:flex;"><span>    (x, y) <span style="color:#ff79c6">=</span> (rnd.nextDouble(), rnd.nextDouble());
</span></span><span style="display:flex;"><span>  } <span style="color:#ff79c6">while</span> (y <span style="color:#ff79c6">&gt;</span> (x <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">0.5</span>) <span style="color:#ff79c6">||</span> y <span style="color:#ff79c6">&gt;</span> (<span style="color:#ff79c6">-</span>x <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1.5</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">return</span> x;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This is admittedly less efficient than just calling <code>rnd.nextDouble()</code>, and it admittedly invokes the <a href="https://en.wikipedia.org/wiki/Halting_problem">halting problem</a>, but it&rsquo;s quick and reliable in practice.</p>
<h2 id="parabolic-distribution">Parabolic distribution</h2>
<p>What if you want a smooth curve between the top and bottom of the range, so the center value is still the most likely, but the difference is less dramatic across the middle of the range? Like this:</p>
<figure><img src="/blog/img/dist_parabolic.png"
    alt="A cartesian graph in the I quadrant. The X axis goes from 0 to 1, with a mark at 0.5, as does the Y axis. A wide parabola is drawn curving downward such that its peak is at x=0.5 and y=1 and it intercepts the Y axis at 0.5, and symmetrically, intercepts x=1 at y=0.5 on the other side. From the parabola down to the X axis is shaded green.">
</figure>

<p>This is similar, you just have to tweak the rejection clause. The formula for this curve is <code>y = -2(x - 0.5)² + 1</code>.</p>
<p><sup>Thanks to my wife for helping me derive this formula.</sup></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">final</span> rnd <span style="color:#ff79c6">=</span> Random();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd">double</span> nextDoubleTriangular() {
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd">double</span> x, y;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">final</span> plot <span style="color:#ff79c6">=</span> (x) <span style="color:#ff79c6">=&gt;</span> (<span style="color:#ff79c6">-</span><span style="color:#bd93f9">2</span> <span style="color:#ff79c6">*</span> pow(x <span style="color:#ff79c6">-</span> <span style="color:#bd93f9">0.5</span>, <span style="color:#bd93f9">2</span>)) <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">do</span> {
</span></span><span style="display:flex;"><span>    (x, y) <span style="color:#ff79c6">=</span> (rnd.nextDouble(), rnd.nextDouble());
</span></span><span style="display:flex;"><span>  } <span style="color:#ff79c6">while</span> (y <span style="color:#ff79c6">&gt;</span> plot(x));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">return</span> x;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This version is nice because you can tweak the coefficient <code>-2</code> to make the curve drop off more or less sharply on each side, without affecting its centerpoint and maximum.</p>
<h2 id="micro-uniform-distribution">Micro-uniform distribution</h2>
<p><sup>I don&rsquo;t know if there&rsquo;s an official math name for this one, I&rsquo;m just a programmer.</sup></p>
<p>Suppose a triangular or parabolic distribution isn&rsquo;t right for your game. You really <em>do</em> need every result to be equally likely. But you still want it to feel fair—no one should get stuck rolling 1s, and no one should get stuck rolling 20s.</p>
<p>One way to do this is to take the <a href="https://en.wikipedia.org/wiki/Gambler%27s_fallacy">gambler&rsquo;s fallacy</a> to an extreme: make it so across 20 rolls, every value from 1 to 20 comes up once:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span>List<span style="color:#ff79c6">&lt;</span><span style="color:#8be9fd">int</span><span style="color:#ff79c6">&gt;</span> possibleValues <span style="color:#ff79c6">=</span> [];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd">int</span> nextD20Constrained() {
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">if</span> (possibleValues.isEmpty) {
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">// Add all the integers from 1 to 20, inclusive, in random order
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    possibleValues <span style="color:#ff79c6">=</span> [<span style="color:#ff79c6">for</span> (<span style="color:#8be9fd;font-style:italic">var</span> i <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span>; i <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">20</span>; i<span style="color:#ff79c6">++</span>) i].shuffled();
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">return</span> possibleValues.removeLast(); <span style="color:#6272a4">// You may know this function as pop()
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>}
</span></span></code></pre></div><p>It&rsquo;s still a uniform distribution. It&rsquo;s still, for most intents and purposes, random. But normal random number generators sometimes produce bullshit like <code>1 1 1 1 1 1 1 1 1 1 1 1</code>, which isn&rsquo;t fun for anyone, whereas this one makes sure your luck balances out before long.</p>
<p>If you want a slightly less constrained version, there are a couple ways to do it:</p>
<ol>
<li>Double up the starting array so each number comes up twice per cycle. You&rsquo;ll still get an even distribution across 40 calls, but a streak of good or bad luck can last a bit longer.</li>
<li>Don&rsquo;t wait for the array to be empty before regenerating it; once you&rsquo;re down to 5 items or so, go ahead and start over. Depending on the number you use, this can help you find a sweet spot between balanced results and true randomness.</li>
</ol>
<h2 id="gaussian-distribution">Gaussian distribution</h2>
<p>Here&rsquo;s where I admit defeat. I know it&rsquo;s possible to generate random numbers according to a bell curve, like this:</p>
<figure><img src="/blog/img/dist_normal.png"
    alt="A cartesian graph in the I quadrant. The X axis goes from 0 to 1, with a mark at 0.5, as does the Y axis. A simple Gaussian bell curve is drawn such that its peak is at x=0.5 and y=1. Its tails intercept the X axis at x=0 and x=1. The area underneath the curve is shaded green, and a dotted line is drawn from its peak straight down to the X axis at x=0.5.">
</figure>

<p>And I know all the formulas are right there on Wikipedia. But I haven&rsquo;t taken a math class since high school calculus, so I can&rsquo;t read them, and all the relevant Stack Overflow answers assume you know how to invert a CDF, which sounds like a sex thing. If you can write a function that accepts a σ and returns a normally-distributed random double, please send it over, I&rsquo;d love to use it.</p>
<h2 id="returning-to-xcom-2">Returning to XCOM 2</h2>
<p>I know XCOM 2 isn&rsquo;t actually a bad game. It encourages a specific play style which I just can&rsquo;t make myself adopt. But I think it would be an even better game if it used a curved distribution to determine hits and misses, even if the displayed percentages were curved as well and the difference were purely cosmetic. When a game says you have a 90% chance of success, failure should feel <em>rare</em>—or, at least, it should only happen 1 in 10 times <em>in practice</em>, not just in mathematical theory.</p>
<p>That&rsquo;s my wish for games: stop using the uniform RNG built into your programming language unless you can articulate why. Triangular distributions aren&rsquo;t hard to generate, and they feel more natural and fair. And if you really do need a uniform distribution, make sure it balances out on a reasonable timescale.</p>

</div>

    
<footer class='entry-footer'>
  
    
      
      

<div class='categories'>
  <span class='category-icon'>
    <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"/>
  
</svg>

  </span>
  <span class='screen-reader'>Categories: </span><a class='category' href='/blog/categories/development'>development</a></div>

    
  
    
      
      

<div class='tags'>
  <span class='tag-icon'>
    <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z"/>
  <line x1="7" y1="7" x2="7" y2="7"/>
  
</svg>

  </span>
  <span class='screen-reader'>Tags: </span><a class='tag' href='/blog/tags/dart'>dart</a></div>

    
  
</footer>


  </article>

  
    
<nav class='entry-nav'>
  <div class='entry-nav-links'><div class='prev-entry'>
      <a href='http://isaaclyman.com/blog/posts/two-dimensional-diagonals/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader'>Previous post: </span>Diagonals of two-dimensional arrays</a>
    </div></div>
</nav>


  

  
    <div class='comments-container'>
  
</div>

  
</main>

    <footer id='footer' class='footer-container'>
      <div class='footer'>
        <div class='social'>
  <nav aria-label='Social Menu'>
    <ul class='social-menu'></ul>
  </nav>
</div>

        <div class='copyright'>
          <p>© 2017 by Isaac Lyman. Site powered by Hugo and GitHub Pages.</p>

        </div>
      </div>
    </footer>

  </div>

  <script src='/blog/js/main.af838dd5.js'></script>
  
    <script src='/blog/js/custom.js'></script>
  

</body>

</html>

